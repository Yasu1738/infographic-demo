<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™¯æ³èª¿æŸ»ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆå›ç­”ç‡ ã‚¤ãƒ³ãƒ•ã‚©ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ (ãƒ‡ãƒ¼ã‚¿æ›´æ–°ç‰ˆ)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> 
    <style>
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.7; 
        }
        .accordion-button { 
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            text-align: left;
            padding: 1rem; 
            font-size: 1.25rem; 
            font-weight: 600; 
            color: #374151; 
            background-color: #f3f4f6; 
            border-radius: 0.5rem; 
            outline: none;
            transition: background-color 0.3s ease;
        }
        .accordion-button:hover {
            background-color: #e5e7eb; 
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out; 
            background-color: #ffffff; 
            border-bottom-left-radius: 0.5rem; 
            border-bottom-right-radius: 0.5rem; 
            box-shadow: inset 0 1px 3px 0 rgba(0, 0, 0, 0.05); 
        }
        .accordion-button.open + .accordion-content {
            max-height: 2500px; 
            padding: 1.25rem; 
            border-top: 1px solid #e2e8f0; 
        }
        .modal {
            display: none; 
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5); 
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 24px; 
            border: 1px solid #888;
            width: 90%;
            max-width: 750px; 
            border-radius: 8px;
            position: relative;
        }
        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 12px; 
            right: 20px;
        }
        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        .arrow-up {
            width: 0;
            height: 0;
            border-left: 6px solid transparent; 
            border-right: 6px solid transparent;
            border-bottom: 6px solid currentColor;
            display: inline-block;
            margin-left: 8px;
            transition: transform 0.3s ease;
        }
        .arrow-down {
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 6px solid currentColor;
            display: inline-block;
            margin-left: 8px;
            transition: transform 0.3s ease;
        }
        .accordion-button.open .arrow-down {
            transform: rotate(180deg);
        }
        .accordion-button.open .arrow-up { 
            transform: rotate(180deg);
        }
        .rate-bar-container {
            background-color: #e9ecef;
            border-radius: 0.25rem;
            height: 22px; 
            width: 100%;
            overflow: hidden;
        }
        .rate-bar {
            height: 100%;
            transition: width 0.5s ease-in-out;
            text-align: right;
            padding-right: 6px;
            color: white;
            font-size: 0.85rem; 
            line-height: 22px;
            white-space: nowrap;
        }
        .section-title {
            font-size: 1.25rem; 
            font-weight: 600;
            color: #1f2937; 
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #e5e7eb; 
        }
        .subsection-title {
            font-size: 1.125rem; 
            font-weight: 600;
            color: #374151; 
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }
        .list-disc {
            padding-left: 1.5rem;
        }
        .list-disc li {
            margin-bottom: 0.5rem;
        }
        .highlight-green {
            color: #059669; 
            font-weight: 600;
        }
        .highlight-red {
            color: #dc2626; 
            font-weight: 600;
        }
        .highlight-yellow {
            color: #f59e0b; 
            font-weight: 600;
        }
        .emoji-bullet {
            margin-right: 0.5rem;
        }
        .note-text {
            font-size: 0.875rem; 
            color: #4b5563; 
            margin-top: 0.25rem;
            padding-left: 0.5rem;
            border-left: 3px solid #d1d5db; 
        }
        .catchphrase-text { 
            font-size: 1.75rem; 
            font-weight: bold;
            text-align: center;
            margin: 2rem 0 1rem;
            color: #b91c1c; 
        }
        .explanation-text p, .explanation-text ul {
            margin-bottom: 1rem;
            color: #374151; 
        }
        .explanation-text h4 {
            font-size: 1.25rem;
            font-weight: bold;
            color: #111827; 
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
        }
        .explanation-text ul {
            list-style-type: disc;
            padding-left: 2rem;
        }
        .explanation-text li {
            margin-bottom: 0.75rem;
        }
        .chart-container {
            position: relative;
            height:500px; 
            width:100%;
        }
        .image-container {
            text-align: center; 
        }
        .image-caption {
            font-size: 0.9rem;
            color: #4b5563;
            text-align: center;
            margin-top: 0.75rem; 
            line-height: 1.5;
        }
    </style>
</head>
<body class="bg-gray-100 p-4 md:p-8">
    <div class="container mx-auto max-w-5xl bg-white shadow-xl rounded-lg p-6 md:p-8">
        <header class="mb-10 text-center">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800">æ™¯æ³èª¿æŸ»ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ å›ç­”çŠ¶æ³ 3æœŸæ¯”è¼ƒåˆ†æ</h1>
            <p class="text-gray-600 mt-2">è¥¿å°¾å¼µæ”¯éƒ¨: 2025å¹´5æœˆæœŸãƒ»2025å¹´2æœˆæœŸãƒ»2024å¹´5æœˆæœŸ</p>
        </header>

        <section id="overallComparison" class="mb-10 p-6 bg-slate-50 rounded-lg shadow-md">
            <h2 class="section-title">è¥¿å°¾å¼µæ”¯éƒ¨ å…¨ä½“çš„ãªå›ç­”çŠ¶æ³</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-4">
                <div>
                    <h3 class="text-lg font-medium text-sky-700">2025å¹´5æœˆæœŸ</h3>
                    <p class="text-gray-600">ç·æ•°: <span id="overallMay25Total"></span>å</p>
                    <p class="text-gray-600">å›ç­”æ•°: <span id="overallMay25Responded"></span>å</p>
                    <p class="text-2xl font-bold text-sky-600">å›ç­”ç‡: <span id="overallMay25Rate"></span>%</p>
                    <div class="rate-bar-container mt-2">
                        <div id="overallMay25RateBar" class="rate-bar bg-sky-500"></div>
                    </div>
                </div>
                <div>
                    <h3 class="text-lg font-medium text-indigo-700">2025å¹´2æœˆæœŸ</h3>
                    <p class="text-gray-600">ç·æ•°: <span id="overallFeb25Total"></span>å</p>
                    <p class="text-gray-600">å›ç­”æ•°: <span id="overallFeb25Responded"></span>å</p>
                    <p class="text-2xl font-bold text-indigo-600">å›ç­”ç‡: <span id="overallFeb25Rate"></span>%</p>
                    <div class="rate-bar-container mt-2">
                        <div id="overallFeb25RateBar" class="rate-bar bg-indigo-500"></div>
                    </div>
                </div>
                <div>
                    <h3 class="text-lg font-medium text-emerald-700">2024å¹´5æœˆæœŸ</h3>
                    <p class="text-gray-600">ç·æ•°: <span id="overallMay24Total"></span>å</p>
                    <p class="text-gray-600">å›ç­”æ•°: <span id="overallMay24Responded"></span>å</p>
                    <p class="text-2xl font-bold text-emerald-600">å›ç­”ç‡: <span id="overallMay24Rate"></span>%</p>
                    <div class="rate-bar-container mt-2">
                        <div id="overallMay24RateBar" class="rate-bar bg-emerald-500"></div>
                    </div>
                </div>
            </div>
            <p class="mt-6 text-center text-base text-gray-700 font-semibold"> 
                2025å¹´5æœˆæœŸ è¥¿å°¾å¼µæ”¯éƒ¨å›ç­”ç‡ã¯ã€2025å¹´2æœˆæœŸæ¯”ã§<strong id="changeFromFeb" class="text-red-700"></strong>ã€
                2024å¹´5æœˆæœŸæ¯”ã§<strong id="changeFromPrevYear" class="text-red-700"></strong>ã€‚
            </p>
        </section>

        <section id="branchComparison" class="mb-10 p-6 bg-slate-50 rounded-lg shadow-md">
            <h2 class="section-title">è¥¿å°¾å¼µæ”¯éƒ¨ çµ„ç¹”åˆ¥ è©³ç´°æ¯”è¼ƒ</h2>
            <div id="branchCardsContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5 mt-4">
                </div>
        </section>

        <div class="space-y-6">
            <section id="rateTrendGraphSection">
                <button class="accordion-button">
                    çµ„ç¹”åˆ¥ å›ç­”ç‡æ¨ç§»ã‚°ãƒ©ãƒ•
                    <span class="arrow-down"></span>
                </button>
                <div class="accordion-content">
                    <div class="chart-container">
                        <canvas id="responseRateChart"></canvas>
                    </div>
                </div>
            </section>

            <section id="trendAnalysis">
                <button class="accordion-button">
                    çµ„ç¹”åˆ¥ å›ç­”çŠ¶æ³ã®æ¨ç§»ã¨å‚¾å‘åˆ†æ
                    <span class="arrow-down"></span>
                </button>
                <div class="accordion-content">
                    <p class="mb-4 text-gray-600">æä¾›ã•ã‚ŒãŸåˆ†æãƒ¬ãƒãƒ¼ãƒˆã«åŸºã¥ãã€è¥¿å°¾å¼µæ”¯éƒ¨å‚˜ä¸‹ã®çµ„ç¹”ã‚’å›ç­”ç‡ã®æ¨ç§»ã«ã‚ˆã£ã¦3ã¤ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼ã«åˆ†é¡ã—ã€è©³ç´°ãªå‚¾å‘ã‚’åˆ†æã—ã¾ã™ã€‚<br><span class="note-text"><strong>æ³¨:</strong> ä»¥ä¸‹ã®åˆ†é¡ãŠã‚ˆã³è¦å› åˆ†æã¯ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ãä»®èª¬ã§ã‚ã‚Šã€å®Ÿéš›ã®è¦å› ã«ã¤ã„ã¦ã¯å„çµ„ç¹”ã¸ã®ãƒ’ã‚¢ãƒªãƒ³ã‚°ç­‰ã«ã‚ˆã‚‹ç¢ºèªãŒå¿…è¦ã§ã™ã€‚</span></p>
                    
                    <h3 class="subsection-title"><span class="emoji-bullet">ğŸ“ˆ</span>å¤§å¹…æ”¹å–„ï¼ˆè¡Œå‹•å–šèµ·æˆåŠŸã®å¯èƒ½æ€§ï¼‰</h3>
                    <p class="text-gray-600 mb-3">ã“ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼ã«ã¯ã€<strong class="highlight-green">ä¸€å®®è¥¿ã€å°¾å¼µåŒ—é’åŒã€å°¾å¼µè¥¿é’åŒ</strong>ãŒå«ã¾ã‚Œã¾ã™ã€‚ã“ã‚Œã‚‰ã®çµ„ç¹”ã¯ã€ç‰¹ã«2025å¹´2æœˆæœŸã‹ã‚‰2025å¹´5æœˆæœŸã«ã‹ã‘ã¦å›ç­”æ•°ã‚’å¤§ããä¼¸ã°ã—ã¦ãŠã‚Šã€ã€Œå£°ã‹ã‘ãƒ»å·»ãè¾¼ã¿ã®æˆåŠŸäº‹ä¾‹ã€ã¨ã—ã¦æ´»ç”¨ã§ãã‚‹å¯èƒ½æ€§ãŒè€ƒãˆã‚‰ã‚Œã¾ã™ã€‚ï¼ˆè¦ç¢ºèªï¼‰</p>
                    <ul class="list-disc text-gray-600 space-y-2">
                        <li><strong>ä¸€å®®è¥¿:</strong> 2024å¹´5æœˆæœŸ9.4% â†’ 2025å¹´2æœˆæœŸ18.8% (+9.4pt) â†’ 2025å¹´5æœˆæœŸ36.0% (<span class="highlight-green">+17.2pt</span>)ã€‚ä¼šå“¡æ•°å¾®å¢—ã®ä¸­ã€å›ç­”æ•°ãŒå€å¢—ã—é¡•è‘—ãªæ”¹å–„ã€‚æˆåŠŸè¦å› ã®ç‰¹å®šã¨æ¨ªå±•é–‹ã‚’æ¨å¥¨ã€‚</li>
                        <li><strong>å°¾å¼µè¥¿é’åŒ:</strong> 2024å¹´5æœˆæœŸ(å›ç­”æ•°2ä»¶) â†’ 2025å¹´2æœˆæœŸ7.0% â†’ 2025å¹´5æœˆæœŸ19.4% (<span class="highlight-green">+12.4pt</span>)ã€‚ä¼šå“¡æ•°æ¸›å°‘ã®ä¸­ã§å›ç­”æ•°ãŒå¢—åŠ ã€‚ã€Œå¼·ã„å‹•æ©Ÿã¥ã‘ãŒã‚ã£ãŸå¯èƒ½æ€§ã€ã®èª¿æŸ»ãƒ»æ´»ç”¨ãŒæœ‰åŠ¹ã€‚</li>
                        <li><strong>å°¾å¼µåŒ—é’åŒ:</strong> 2024å¹´5æœˆæœŸ(å›ç­”ç‡ ç´„61.0% â€»è£œå®Œå€¤) â†’ 2025å¹´2æœˆæœŸ11.1% â†’ 2025å¹´5æœˆæœŸ40.6% (<span class="highlight-green">+29.5pt</span>)ã€‚2æœˆæœŸã‹ã‚‰å¤§å¹…æ”¹å–„ã€‚</li>
                    </ul>

                    <h3 class="subsection-title"><span class="emoji-bullet">âš ï¸</span>ç¶™ç¶šä½è¿·ï¼ˆé‡ç‚¹çš„ãªãƒ†ã‚³å…¥ã‚ŒãŒå¿…è¦ï¼‰</h3>
                    <p class="text-gray-600 mb-3">ã“ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼ã«ã¯ã€<strong class="highlight-red">æµ·éƒ¨ãƒ»æ´¥å³¶ã€ä¸€å®®</strong>ãŒå«ã¾ã‚Œã¾ã™ã€‚ã“ã‚Œã‚‰ã®çµ„ç¹”ã¯ã€å›ç­”ç‡ãŒç¶™ç¶šã—ã¦ä½è¿·ã€ã‚ã‚‹ã„ã¯æ‚ªåŒ–å‚¾å‘ã«ã‚ã‚Šã€é‡ç‚¹çš„ãªå¯¾ç­–ãŒå¿…è¦ã§ã™ã€‚</p>
                    <ul class="list-disc text-gray-600 space-y-2">
                        <li><strong>æµ·éƒ¨ãƒ»æ´¥å³¶:</strong> 2024å¹´5æœˆæœŸ17.3% â†’ 2025å¹´2æœˆæœŸ11.4% (-5.9pt) â†’ 2025å¹´5æœˆæœŸ12.2% (<span class="highlight-green">+0.8pt</span>)ã€‚ä¼šå“¡æ•°å¢—åŠ ã®ä¸­ã§å›ç­”ç‡ã¯å¾®å¢—ã€‚</li>
                        <li><strong>ä¸€å®®:</strong> 2024å¹´5æœˆæœŸ25.2% â†’ 2025å¹´2æœˆæœŸ20.0% (-5.2pt) â†’ 2025å¹´5æœˆæœŸ11.4% (<span class="highlight-red">-8.6pt</span>)ã€‚ä¼šå“¡æ•°å®‰å®šã®ä¸­ã§å›ç­”æ•°ãƒ»å›ç­”ç‡ãŒç¶™ç¶šçš„ã«å¤§ããä¸‹è½ã€‚åŒæ§˜ã«é‡ç‚¹çš„ãªãƒ†ã‚³å…¥ã‚ŒãŒå¿…è¦ã€‚</li>
                    </ul>

                    <h3 class="subsection-title"><span class="emoji-bullet">ğŸŸ¨</span>ã‚†ã‚‹ã‚„ã‹æ”¹å–„/ç¾çŠ¶ç¶­æŒï¼ˆã•ã‚‰ãªã‚‹æ”¯æ´ãŒæœ‰åŠ¹ï¼‰</h3>
                    <p class="text-gray-600 mb-3">ã“ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼ã«ã¯ã€<strong class="highlight-yellow">ç¨²æ²¢ã€è¥¿æ˜¥æ—¥äº•</strong>ãŒå«ã¾ã‚Œã¾ã™ã€‚ã“ã‚Œã‚‰ã®çµ„ç¹”ã¯ã€å›ç­”ç‡ãŒæŒã¡ç›´ã—å‚¾å‘ã€ã¾ãŸã¯å¾®å¢—å‚¾å‘ã€ã‚ã‚‹ã„ã¯é«˜æ°´æº–ã‹ã‚‰ä½ä¸‹å¾Œã«å®‰å®šã®å…†ã—ã‚’è¦‹ã›ã¦ãŠã‚Šã€ã•ã‚‰ãªã‚‹æ”¯æ´ã«ã‚ˆã£ã¦å›ç­”ç‡å‘ä¸ŠãŒæœŸå¾…ã§ãã¾ã™ã€‚</p>
                    <ul class="list-disc text-gray-600 space-y-2">
                        <li><strong>ç¨²æ²¢:</strong> 2024å¹´5æœˆæœŸ9.4% â†’ 2025å¹´2æœˆæœŸ16.8% (+7.4pt) â†’ 2025å¹´5æœˆæœŸ24.0% (<span class="highlight-green">+7.2pt</span>)ã€‚ç¶™ç¶šã—ã¦å‘ä¸Šã€‚ä¼šå“¡æ•°å¢—åŠ ã®ä¸­ã§å›ç­”æ•°ã‚‚é †èª¿å¢—ã€‚</li>
                        <li><strong>è¥¿æ˜¥æ—¥äº•:</strong> 2024å¹´5æœˆæœŸ39.3% â†’ 2025å¹´2æœˆæœŸ20.0% (-19.3pt) â†’ 2025å¹´5æœˆæœŸ17.6% (-2.4pt)ã€‚24å¹´5æœˆæœŸã¯é«˜æ°´æº–ã ã£ãŸãŒå¤§å¹…ä½ä¸‹å¾Œã€ç›´è¿‘ã®æ¸›å°‘å¹…ã¯å°ã•ã„ã€‚å›å¾©ã«å‘ã‘ãŸè¿½åŠ æ”¯æ´ã‚„é”æˆç›®æ¨™å‹ã®åƒãã‹ã‘ãŒæœ‰åŠ¹ã®å¯èƒ½æ€§ã€‚</li>
                    </ul>
                </div>
            </section>

            <section id="recommendedActions">
                <button class="accordion-button">
                    æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
                    <span class="arrow-down"></span>
                </button>
                <div class="accordion-content">
                     <ul class="list-none space-y-4 text-gray-700">
                        <li>
                            <strong class="text-lg block mb-1"><span class="emoji-bullet">ğŸ“ˆ</span>å¤§å¹…æ”¹å–„çµ„ç¹” (ä¸€å®®è¥¿ã€å°¾å¼µåŒ—é’åŒã€å°¾å¼µè¥¿é’åŒ)</strong>
                            <p>æˆåŠŸè¦å› ã®å¯è¦–åŒ–ï¼ˆãªãœå›ç­”ç‡ãŒå¤§å¹…ã«å‘ä¸Šã—ãŸã®ã‹å…·ä½“çš„ãªåˆ†æï¼‰ã€‚æˆåŠŸäº‹ä¾‹ã‚’ä»–æ”¯éƒ¨ã¸æ¨ªå±•é–‹ã™ã‚‹ãŸã‚ã®æ–½ç­–æ¤œè¨ã€‚<span class="note-text">ï¼ˆè¦å› ã¯ä»®èª¬ã§ã‚ã‚Šè¦ç¢ºèªï¼‰</span></p>
                        </li>
                        <li>
                            <strong class="text-lg block mb-1"><span class="emoji-bullet">âš ï¸</span>ç¶™ç¶šä½è¿·çµ„ç¹” (ä¸€å®®ã€æµ·éƒ¨ãƒ»æ´¥å³¶)</strong>
                            <p>ã‚­ãƒ¼ãƒ‘ãƒ¼ã‚½ãƒ³ã«ã‚ˆã‚‹å€‹åˆ¥å£°ã‹ã‘ä½“åˆ¶ã®æ§‹ç¯‰ã€æœªå›ç­”è€…ã¸ã®ç›´æ¥çš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒå¼·åŒ–ã€‚å…·ä½“çš„ãªç›®æ¨™è¨­å®šã«ã‚ˆã‚‹å‹•æ©Ÿã¥ã‘ã€çµ„ç¹”å…¨ä½“ã§ã®å›ç­”ç‡å‘ä¸Šæ„è­˜ã®é†¸æˆã€‚</p>
                        </li>
                        <li>
                            <strong class="text-lg block mb-1"><span class="emoji-bullet">ğŸŸ¨</span>ã‚†ã‚‹ã‚„ã‹æ”¹å–„/ç¾çŠ¶ç¶­æŒçµ„ç¹” (ç¨²æ²¢ã€è¥¿æ˜¥æ—¥äº•)</strong>
                            <p>é”æˆç›®å‰å‹ã®ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ã®ç©æ¥µçš„ãªå®Ÿæ–½ï¼ˆä¾‹ï¼šã€Œç¾åœ¨ã®å›ç­”ç‡ã¯ã€‡ã€‡%ã€‚ã‚ã¨ã€‡ä»¶ã§ç›®æ¨™ã®ã€‡ã€‡%ï¼ã€ãªã©ï¼‰ã€‚å…·ä½“çš„ãªæ•°å€¤ç›®æ¨™é”æˆã‚’ä¿ƒã—ã€æœ€å¾Œã®ãƒ—ãƒƒã‚·ãƒ¥ã‚’å›³ã‚‹ã€‚</p>
                        </li>
                    </ul>
                </div>
            </section>

            <section id="messageForAction">
                <button class="accordion-button">
                    â€œä½•ã‚‚å¤‰ã‚ã‚‰ãªã„â€ã¯ã€ç­”ãˆãªã„äººãŒã¤ãã‚‹ã€‚
                    <span class="arrow-down"></span>
                </button>
                <div class="accordion-content explanation-text">
                    <p class="text-lg italic text-center text-gray-600 mb-6">ã€ŒãŸã ã®ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã§ã—ã‚‡ï¼Ÿã€</p>
                    <p class="mb-4">â€¦ã„ãˆã€ãã‚Œã€å¤§ããªå‹˜é•ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚<br>
                    æ™¯æ³èª¿æŸ»ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã¯ã€å˜ãªã‚‹æ„è¦‹åé›†ã§ã¯ãªãã€ã‚ãªãŸã®ä¼šç¤¾ã€æ¥­ç•Œã€åœ°åŸŸãŒâ€œã©ã†æ”¯æ´ã•ã‚Œã‚‹ã‹â€ã‚’è€ƒãˆã‚‹ãŸã‚ã®é‡è¦ãªæƒ…å ±æºã«ãªã‚Šã¾ã™ã€‚<br>
                    ã¤ã¾ã‚Šã€ã€Œå£°ã‚’ä¸Šã’ã‚‹ã€ã‹ã€Œæ²ˆé»™ã™ã‚‹ã€ã‹ã§ã€åœ°åŸŸã‚„æ¥­ç•Œã®æœªæ¥ã«é–¢ã‚ã‚‹é¸æŠè‚¢ãŒå¤‰ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã™ã€‚</p>
    
                    <h4>ğŸ“Š æ™¯æ³èª¿æŸ»ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã¨ã¯ï¼Ÿ</h4>
                    <p>æ™¯æ³èª¿æŸ»ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã¨ã¯ã€ä¼šå“¡ä¼æ¥­ã®çµŒå–¶çŠ¶æ³ã‚„æ™¯æ°—å‹•å‘ã€æ¥­ç•Œãƒ»åœ°åŸŸã§ã®èª²é¡Œã‚’æŠŠæ¡ã™ã‚‹ãŸã‚ã®èª¿æŸ»ã§ã™ã€‚</p>
                    <p>æ„›çŸ¥ä¸­å°ä¼æ¥­å®¶åŒå‹ä¼šã§ã¯ã“ã‚Œã‚’ã€<strong>å˜ãªã‚‹ãƒ‡ãƒ¼ã‚¿åé›†ã§ã¯ãªãã€ã€Œä¼šå“¡ã®ç”Ÿã®å£°ã‚’è¡Œæ”¿ã‚„ç¤¾ä¼šã«ä¼ãˆã‚‹å¤§åˆ‡ãªæ‰‹æ®µã€</strong>ã¨ã—ã¦ä½ç½®ã¥ã‘ã¦ã„ã¾ã™ã€‚</p>
                    
                    <h4>ğŸ¯ åŒå‹ä¼šã«ãŠã‘ã‚‹æ„å‘³ã¨å½¹å‰²</h4>
                    <ul>
                        <li><strong>æ”¿ç­–æè¨€ã®è³‡æ–™ã¨ãªã‚‹</strong><br>
                        ã€€â†’ ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã®é›†è¨ˆçµæœã¯ã€è£œåŠ©é‡‘ã€ç¨åˆ¶ã€èè³‡ãªã©ã®åˆ¶åº¦è¨­è¨ˆã‚„æ”¹å–„ã«å‘ã‘ãŸè¡Œæ”¿ã¨ã®æ„è¦‹äº¤æ›ã‚„æè¨€æ´»å‹•ã®åŸºç¤è³‡æ–™ã¨ãªã‚Šå¾—ã¾ã™ã€‚</li>
                        <li><strong>åœ°åŸŸçµŒæ¸ˆã®å®Ÿæƒ…ã‚’å¯è¦–åŒ–ã™ã‚‹</strong><br>
                        ã€€â†’ å›ç­”ã‚’é€šã˜ã¦ã€æ¥­ç¨®ã‚„åœ°åŸŸã”ã¨ã®ç¾çŠ¶ãƒ»èª²é¡ŒãŒæ˜ã‚‰ã‹ã«ãªã‚Šã€åŒå‹ä¼šã‚„è¡Œæ”¿ãŒçš„ç¢ºãªæ”¯æ´ç­–ã‚’æ¤œè¨ã™ã‚‹ææ–™ã¨ãªã‚Šã¾ã™ã€‚</li>
                        <li><strong>ä¼šå“¡ç›¸äº’ã®å•é¡Œæ„è­˜ã®å…±æœ‰</strong><br>
                        ã€€â†’ å…±é€šã®æ‚©ã¿ã‚„å¤‰åŒ–ã‚’çŸ¥ã‚‹ã“ã¨ã§ã€å®‰å¿ƒæ„Ÿã‚„é€£å¸¯ãŒç”Ÿã¾ã‚Œã€ã€Œè‡ªç¤¾ã ã‘ã§ã¯ãªã„ã€ã¨å…±æ„Ÿã™ã‚‹ã“ã¨ã§å‰å‘ããªå­¦ã³ã‚„è¡Œå‹•ã«ã¤ãªãŒã‚Šã¾ã™ã€‚</li>
                        <li><strong>ã€ŒçµŒå–¶ç’°å¢ƒæ”¹å–„é‹å‹•ã€ã®ä¸€ç’°</strong><br>
                        ã€€â†’ åŒå‹ä¼šãŒé€²ã‚ã‚‹ã€ŒçµŒå–¶ç’°å¢ƒã‚’ã‚ˆãã™ã‚‹ã€é‹å‹•ã®èµ·ç‚¹ã¨ã—ã¦ã€ä¼šå“¡ã®å£°ã‚’é›†ã‚ã€ç¤¾ä¼šã«åƒãã‹ã‘ã¦ã„ãç¬¬ä¸€æ­©ã¨ãªã‚Šã¾ã™ã€‚</li>
                    </ul>
                </div>
            </section>
        </div>
    </div>

    <div id="branchModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal()">&times;</span>
            <h3 id="modalBranchName" class="text-xl font-semibold mb-4"></h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="p-3 bg-sky-50 rounded-md">
                    <h4 class="font-medium text-sky-700">2025å¹´5æœˆæœŸ</h4>
                    <p id="modalMay25Members" class="text-sm"></p>
                    <p id="modalMay25Responded" class="text-sm"></p>
                    <p id="modalMay25Rate" class="font-bold text-lg"></p>
                </div>
                <div class="p-3 bg-indigo-50 rounded-md">
                    <h4 class="font-medium text-indigo-700">2025å¹´2æœˆæœŸ</h4>
                    <p id="modalFeb25Members" class="text-sm"></p>
                    <p id="modalFeb25Responded" class="text-sm"></p>
                    <p id="modalFeb25Rate" class="font-bold text-lg"></p>
                </div>
                <div class="p-3 bg-emerald-50 rounded-md">
                    <h4 class="font-medium text-emerald-700">2024å¹´5æœˆæœŸ</h4>
                    <p id="modalMay24Members" class="text-sm"></p>
                    <p id="modalMay24Responded" class="text-sm"></p>
                    <p id="modalMay24Rate" class="font-bold text-lg"></p>
                </div>
            </div>
        </div>
    </div>

<script>
    // æä¾›ã•ã‚ŒãŸHTMLãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ã¦æ›´æ–°
    const surveyData = {
        overall: { // è¥¿å°¾å¼µæ”¯éƒ¨å…¨ä½“ã®ãƒ‡ãƒ¼ã‚¿
            may2025: { total: 549, responded: 120, rate: (120 / 549) * 100 }, // 21.85... -> 21.9%
            feb2025: { total: 535, responded: 87, rate: (87 / 535) * 100 },   // 16.26... -> 16.3%
            may2024: { total: 495, responded: 115, rate: (115 / 495) * 100 }  // 23.23... -> 23.2%
        },
        branches: [ 
            { name: "æµ·éƒ¨ãƒ»æ´¥å³¶",æ”¯éƒ¨:"è¥¿å°¾å¼µæ”¯éƒ¨", 
              may2025: { members: 98, responded: 12, rate: 12.2 }, 
              feb2025: { members: 88, responded: 10, rate: 11.4 }, 
              may2024: { members: 81, responded: 14, rate: 17.3 } 
            },
            { name: "ä¸€å®®",æ”¯éƒ¨:"è¥¿å°¾å¼µæ”¯éƒ¨", 
              may2025: { members: 105, responded: 12, rate: 11.4 }, 
              feb2025: { members: 105, responded: 21, rate: 20.0 }, 
              may2024: { members: 107, responded: 27, rate: 25.2 } 
            },
            { name: "ä¸€å®®è¥¿",æ”¯éƒ¨:"è¥¿å°¾å¼µæ”¯éƒ¨", 
              may2025: { members: 114, responded: 41, rate: 36.0 }, 
              feb2025: { members: 112, responded: 21, rate: 18.8 }, 
              may2024: { members: 107, responded: 30, rate: 28.0 } // å…ƒã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆã‚ã›ã¦ä¿®æ­£
            },
            { name: "ç¨²æ²¢",æ”¯éƒ¨:"è¥¿å°¾å¼µæ”¯éƒ¨", 
              may2025: { members: 96, responded: 23, rate: 24.0 }, 
              feb2025: { members: 95, responded: 16, rate: 16.8 }, 
              may2024: { members: 85, responded: 8, rate: 9.4 } // å…ƒã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆã‚ã›ã¦ä¿®æ­£
            },
            { name: "è¥¿æ˜¥æ—¥äº•",æ”¯éƒ¨:"è¥¿å°¾å¼µæ”¯éƒ¨", 
              may2025: { members: 68, responded: 12, rate: 17.6 }, 
              feb2025: { members: 65, responded: 13, rate: 20.0 }, 
              may2024: { members: 61, responded: 24, rate: 39.3 } // å…ƒã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆã‚ã›ã¦ä¿®æ­£
            },
            { name: "å°¾å¼µåŒ—é’åŒ",æ”¯éƒ¨:"è¥¿å°¾å¼µæ”¯éƒ¨", 
              may2025: { members: 32, responded: 13, rate: 40.6 }, 
              feb2025: { members: 27, responded: 3, rate: 11.1 }, 
              may2024: { members: 21, responded: 10, rate: 47.6 } // å…ƒã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆã‚ã›ã¦ä¿®æ­£
            },
            { name: "å°¾å¼µè¥¿é’åŒ",æ”¯éƒ¨:"è¥¿å°¾å¼µæ”¯éƒ¨", 
              may2025: { members: 36, responded: 7, rate: 19.4 }, 
              feb2025: { members: 43, responded: 3, rate: 7.0 }, 
              may2024: { members: 33, responded: 2, rate: 6.1 } // å…ƒã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆã‚ã›ã¦ä¿®æ­£
            }
        ]
    };

    // JavaScriptå†…ã®ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ã¦ã€HTMLå†…ã®ãƒ†ã‚­ã‚¹ãƒˆã‚„ã‚°ãƒ©ãƒ•ã‚’å‹•çš„ã«æ›´æ–°ã™ã‚‹å‡¦ç†
    // (æ—¢å­˜ã®JavaScriptã‚³ãƒ¼ãƒ‰ã¯ãã®ã¾ã¾æ´»ç”¨)

    surveyData.branches.forEach(branch => {
        branch.changeFeb = branch.may2025.rate - branch.feb2025.rate;
        if (branch.may2024 && typeof branch.may2024.rate === 'number') { 
             branch.changePrevYear = branch.may2025.rate - branch.may2024.rate;
        } else {
            branch.changePrevYear = null; 
        }
    });

    document.getElementById('overallMay25Total').textContent = surveyData.overall.may2025.total;
    document.getElementById('overallMay25Responded').textContent = surveyData.overall.may2025.responded;
    document.getElementById('overallMay25Rate').textContent = surveyData.overall.may2025.rate.toFixed(1);
    const overallMay25RateBar = document.getElementById('overallMay25RateBar');
    overallMay25RateBar.style.width = surveyData.overall.may2025.rate + '%';
    overallMay25RateBar.textContent = surveyData.overall.may2025.rate.toFixed(1) + '%';

    document.getElementById('overallFeb25Total').textContent = surveyData.overall.feb2025.total;
    document.getElementById('overallFeb25Responded').textContent = surveyData.overall.feb2025.responded;
    document.getElementById('overallFeb25Rate').textContent = surveyData.overall.feb2025.rate.toFixed(1);
    const overallFeb25RateBar = document.getElementById('overallFeb25RateBar');
    overallFeb25RateBar.style.width = surveyData.overall.feb2025.rate + '%';
    overallFeb25RateBar.textContent = surveyData.overall.feb2025.rate.toFixed(1) + '%';

    document.getElementById('overallMay24Total').textContent = surveyData.overall.may2024.total;
    document.getElementById('overallMay24Responded').textContent = surveyData.overall.may2024.responded;
    document.getElementById('overallMay24Rate').textContent = surveyData.overall.may2024.rate.toFixed(1);
    const overallMay24RateBar = document.getElementById('overallMay24RateBar');
    overallMay24RateBar.style.width = surveyData.overall.may2024.rate + '%';
    overallMay24RateBar.textContent = surveyData.overall.may2024.rate.toFixed(1) + '%';
    
    const changeFromFebValue = surveyData.overall.may2025.rate - surveyData.overall.feb2025.rate;
    const changeFromPrevYearValue = surveyData.overall.may2025.rate - surveyData.overall.may2024.rate;

    const changeFromFebEl = document.getElementById('changeFromFeb');
    changeFromFebEl.textContent = `${changeFromFebValue.toFixed(1)}ãƒã‚¤ãƒ³ãƒˆ${changeFromFebValue >= 0 ? 'å¢—åŠ ' : 'ä½ä¸‹'}`;
    changeFromFebEl.className = changeFromFebValue >= 0 ? 'text-green-700 font-bold' : 'text-red-700 font-bold';
    
    const changeFromPrevYearEl = document.getElementById('changeFromPrevYear');
    changeFromPrevYearEl.textContent = `${changeFromPrevYearValue.toFixed(1)}ãƒã‚¤ãƒ³ãƒˆ${changeFromPrevYearValue >= 0 ? 'å¢—åŠ ' : 'ä½ä¸‹'}`;
    changeFromPrevYearEl.className = changeFromPrevYearValue >= 0 ? 'text-green-700 font-bold' : 'text-red-700 font-bold';

    const branchCardsContainer = document.getElementById('branchCardsContainer');
    const modal = document.getElementById('branchModal');

    surveyData.branches.forEach(branch => {
        const card = document.createElement('div');
        card.className = 'p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 ease-in-out transform hover:-translate-y-1 cursor-pointer flex flex-col justify-between';
        
        function getChangeHtml(changeValue, periodText) {
            if (changeValue === null || typeof changeValue === 'undefined') {
                return `<p class="text-xs text-gray-500">${periodText}: ãƒ‡ãƒ¼ã‚¿ãªã—</p>`;
            }
            let changeTextClass = 'text-gray-700';
            let changePrefix = '';
            let arrowIconHTML = '<span class="inline-block ml-1 text-gray-500">-</span>';
            if (changeValue > 0.001) { 
                changeTextClass = 'text-green-600 font-semibold';
                changePrefix = '+';
                arrowIconHTML = '<span class="inline-block ml-1 text-green-500 text-lg">â–²</span>';
            } else if (changeValue < -0.001) { 
                changeTextClass = 'text-red-600 font-semibold';
                arrowIconHTML = '<span class="inline-block ml-1 text-red-500 text-lg">â–¼</span>';
            }
            return `<p class="text-xs ${changeTextClass}">${periodText}: 
                        <span class="text-sm">${changePrefix}${changeValue.toFixed(1)}pt</span> 
                        ${arrowIconHTML}
                    </p>`;
        }
        
        let prevYearRateText = "ãƒ‡ãƒ¼ã‚¿ãªã—";
        if (branch.may2024 && typeof branch.may2024.rate === 'number') {
            prevYearRateText = `${branch.may2024.rate.toFixed(1)}%`;
        }

        card.innerHTML = `
            <div>
                <h3 class="text-md font-bold text-gray-800 mb-1">${branch.name}</h3>
                <p class="text-xs text-gray-500 mb-2">${branch.æ”¯éƒ¨}</p>
                <p class="text-gray-700 text-sm">2025å¹´5æœˆæœŸ: <span class="font-extrabold text-xl text-sky-600">${branch.may2025.rate.toFixed(1)}%</span></p>
                <p class="text-xs text-gray-500"> (2025å¹´2æœˆæœŸ: ${branch.feb2025.rate.toFixed(1)}% | 2024å¹´5æœˆæœŸ: ${prevYearRateText})</p>
            </div>
            <div class="mt-2 pt-2 border-t border-gray-200 space-y-1">
                ${getChangeHtml(branch.changeFeb, '25å¹´2æœˆæœŸæ¯”')}
                ${getChangeHtml(branch.changePrevYear, '24å¹´5æœˆæœŸæ¯”')}
            </div>
        `;
        card.addEventListener('click', () => openModal(branch));
        branchCardsContainer.appendChild(card);
    });

    function openModal(branchData) {
        document.getElementById('modalBranchName').textContent = `${branchData.name} (${branchData.æ”¯éƒ¨})`;
        
        document.getElementById('modalMay25Members').textContent = `ä¼šå“¡æ•°: ${branchData.may2025.members}å`;
        document.getElementById('modalMay25Responded').textContent = `å›ç­”æ•°: ${branchData.may2025.responded}å`;
        document.getElementById('modalMay25Rate').textContent = `å›ç­”ç‡: ${branchData.may2025.rate.toFixed(1)}%`;
        
        document.getElementById('modalFeb25Members').textContent = `ä¼šå“¡æ•°: ${branchData.feb2025.members}å`;
        document.getElementById('modalFeb25Responded').textContent = `å›ç­”æ•°: ${branchData.feb2025.responded}å`;
        document.getElementById('modalFeb25Rate').textContent = `å›ç­”ç‡: ${branchData.feb2025.rate.toFixed(1)}%`;

        if (branchData.may2024 && typeof branchData.may2024.members === 'number') { 
            document.getElementById('modalMay24Members').textContent = `ä¼šå“¡æ•°: ${branchData.may2024.members}å`;
            document.getElementById('modalMay24Responded').textContent = `å›ç­”æ•°: ${branchData.may2024.responded}å`;
            document.getElementById('modalMay24Rate').textContent = `å›ç­”ç‡: ${branchData.may2024.rate.toFixed(1)}%`;
        } else { 
            document.getElementById('modalMay24Members').textContent = `ä¼šå“¡æ•°: ãƒ‡ãƒ¼ã‚¿ãªã—`;
            document.getElementById('modalMay24Responded').textContent = `å›ç­”æ•°: ãƒ‡ãƒ¼ã‚¿ãªã—`;
            document.getElementById('modalMay24Rate').textContent = `å›ç­”ç‡: ãƒ‡ãƒ¼ã‚¿ãªã—`;
        }
        
        modal.style.display = 'flex';
    }

    function closeModal() {
        modal.style.display = 'none';
    }

    window.onclick = function(event) {
        if (event.target == modal) {
            closeModal();
        }
    }

    const accordionButtons = document.querySelectorAll('.accordion-button');
    accordionButtons.forEach(button => {
        button.addEventListener('click', () => {
            const content = button.nextElementSibling;
            button.classList.toggle('open');
            
            if (button.classList.contains('open')) {
                content.style.maxHeight = content.scrollHeight + "px";
                 if (button.parentElement.id === 'rateTrendGraphSection' && !button.dataset.chartInitialized) {
                    initResponseRateChart();
                    button.dataset.chartInitialized = 'true'; 
                }
            } else {
                content.style.maxHeight = "0";
            }
        });
    });

    function initResponseRateChart() {
        const ctx = document.getElementById('responseRateChart').getContext('2d');
        const labels = ['2024å¹´5æœˆæœŸ', '2025å¹´2æœˆæœŸ', '2025å¹´5æœˆæœŸ'];
        const datasets = [];

        datasets.push({
            label: 'è¥¿å°¾å¼µæ”¯éƒ¨å…¨ä½“',
            data: [
                surveyData.overall.may2024.rate,
                surveyData.overall.feb2025.rate,
                surveyData.overall.may2025.rate
            ],
            borderColor: 'rgba(0, 0, 0, 1)', 
            backgroundColor: 'rgba(0, 0, 0, 0.1)',
            fill: false,
            tension: 0.1,
            borderWidth: 2 
        });
        
        const branchColors = [
            'rgba(255, 99, 132, 1)',  
            'rgba(54, 162, 235, 1)', 
            'rgba(255, 206, 86, 1)', 
            'rgba(75, 192, 192, 1)', 
            'rgba(153, 102, 255, 1)',
            'rgba(255, 159, 64, 1)', 
            'rgba(128, 128, 128, 1)'  
        ];

        surveyData.branches.forEach((branch, index) => {
            datasets.push({
                label: branch.name,
                data: [
                    (branch.may2024 && typeof branch.may2024.rate === 'number') ? branch.may2024.rate : null,
                    branch.feb2025.rate,
                    branch.may2025.rate
                ],
                borderColor: branchColors[index % branchColors.length],
                backgroundColor: branchColors[index % branchColors.length].replace('1)', '0.1)'),
                fill: false,
                tension: 0.1,
                borderWidth: 1.5
            });
        });

        new Chart(ctx, {
            type: 'line',
            data: {
                labels: labels,
                datasets: datasets
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'è¥¿å°¾å¼µæ”¯éƒ¨ çµ„ç¹”åˆ¥ å›ç­”ç‡æ¨ç§»',
                        font: {
                            size: 16
                        }
                    },
                    legend: {
                        position: 'top',
                        labels: {
                            boxWidth: 20,
                            padding: 15
                        }
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.y !== null) {
                                    label += context.parsed.y.toFixed(1) + '%';
                                }
                                return label;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'å›ç­”ç‡ (%)'
                        },
                        ticks: {
                            callback: function(value) {
                                return value.toFixed(0) + '%'; 
                            }
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'èª¿æŸ»æœŸé–“'
                        }
                    }
                },
                interaction: {
                    mode: 'nearest',
                    axis: 'x',
                    intersect: false
                }
            }
        });
    }
</script>
</body>
</html>